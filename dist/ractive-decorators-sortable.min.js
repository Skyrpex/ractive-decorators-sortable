!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Ractive.decorators.sortable=t()}(this,function(){"use strict";var e,t,r,n,a,s,o,i,d=function(e){return e.draggable=!0,e.addEventListener("dragstart",a,!1),e.addEventListener("dragenter",s,!1),e.addEventListener("dragleave",o,!1),e.addEventListener("drop",o,!1),e.addEventListener("dragover",i,!1),{teardown:function(){e.removeEventListener("dragstart",a,!1),e.removeEventListener("dragenter",s,!1),e.removeEventListener("dragleave",o,!1),e.removeEventListener("drop",o,!1),e.removeEventListener("dragover",i,!1)}}};d.targetClass="droptarget";var v="The sortable decorator only works with elements that correspond to array members";a=function(a){var s,o=this._ractive;if(t=o.keypath.str,s=t.lastIndexOf("."),-1===s)throw new Error(v);if(r=t.substr(0,s),n=+t.substring(s+1),isNaN(n))throw new Error(v);a.dataTransfer.setData("foo",!0),e=o.root},s=function(){var t,a,s,o,i,f;if(this._ractive.root===e){if(t=this._ractive.keypath.str,a=t.lastIndexOf("."),-1===a)throw new Error(v);if(s=t.substr(0,a),o=+t.substring(a+1),s===r){if(o===n)return void this.classList.add(d.targetClass);i=e.get(r),f=i.splice(n,1)[0],n=o,i.splice(n,0,f)}}},o=function(){this.classList.remove(d.targetClass)},i=function(e){e.preventDefault()};var f=d;return f});
